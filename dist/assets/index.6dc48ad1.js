import{R as B,S as V,P as W,W as D,O as E,a as C,M as G,D as H,F as Z,b as A,c as O,A as N,d as R,e as S,f as T,T as U,G as q,g as I,h as K,B as _,i as J}from"./vendor.0b5080dc.js";const Q=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}};Q();const c={plane:{width:250,height:250,widthSegments:50,heightSegments:50}};function $(){i.geometry.dispose(),i.geometry=new C(c.plane.width,c.plane.height,c.plane.widthSegments,c.plane.heightSegments);const{array:o}=i.geometry.attributes.position,n=[];for(let t=0;t<o.length;t++){if(t%3===0){const e=o[t],s=o[t+1],a=o[t+2];o[t]=e+(Math.random()-.5)*3,o[t+1]=s+(Math.random()-.5)*3,o[t+2]=a+(Math.random()-.5)*3}n.push(Math.random()*Math.PI*2)}i.geometry.attributes.position.randomValues=n,i.geometry.attributes.position.originalPosition=i.geometry.attributes.position.array;const r=[];for(let t=0;t<i.geometry.attributes.position.count;t++)r.push(0,.19,.4);i.geometry.setAttribute("color",new _(new Float32Array(r),3))}const m=new B,d=new V,f=new W(75,innerWidth/innerHeight,.1,1e3),y=new D;y.setSize(innerWidth,innerHeight);y.setPixelRatio(devicePixelRatio);document.body.appendChild(y.domElement);new E(f,y.domElement);f.position.z=50;const k=new C(c.plane.width,c.plane.height,c.plane.widthSegments,c.plane.heightSegments),ee=new G({side:H,flatShading:Z,vertexColors:!0}),i=new A(k,ee);d.add(i);$();const F=new O(16777215,1);F.position.set(0,1,1);const te=new N(16711935),v=new O(16777215,1);v.position.set(0,0,-1);d.add(F,v,te);const b=new R;f.add(b);const p=new S(b);d.add(p);const h=new S(b);d.add(h);const g=new S(b);d.add(g);const w=new S(b);d.add(w);const x=new T;x.load("https://astro-world.s3.amazonaws.com/sounds/lemmings.mp3",function(o){w.setBuffer(o),w.setLoop(!0),w.setVolume(.1),w.play()});const u={x:void 0,y:void 0},oe=new U,ne=oe.load("https://astro-world.s3.amazonaws.com/textures/NormalMap.png"),j=new q;let l,L=[];j.load("https://astro-world.s3.amazonaws.com/elf/scene.gltf",function(o){o.scene.userData={name:"elf"};let n;n=o.scene,n.scale.y=200,n.scale.x=200,n.scale.z=200,d.add(n),L.push(n)},void 0,function(o){console.error(o)});j.load("https://astro-world.s3.amazonaws.com/banana/scene.gltf",function(o){o.scene.userData={id:"banana"},l=o.scene,l.scale.y=200,l.scale.x=200,l.scale.z=200,d.add(l),L.push(l)},void 0,function(o){console.error(o)});j.load("https://astro-world.s3.amazonaws.com/shiba/scene.gltf",function(o){o.scene.userData={id:"dog"};let n=o.scene;n.scale.set(10,10,10),n.position.x=100,n.position.z=100,d.add(n),L.push(n)},void 0,function(o){console.error(o)});let z=0;function X(){requestAnimationFrame(X),y.render(d,f),m.setFromCamera(u,f),z+=.01,l&&(l.rotation.y+=.01),Y.forEach(e=>{e.position.y-=5,e.position.y<-window.innerHeight/2&&(e.position.y=window.innerHeight/2,e.material.opacity=0),e.material.opacity<1&&(e.material.opacity+=.005)});const{array:o,originalPosition:n,randomValues:r}=i.geometry.attributes.position;for(let e=0;e<o.length;e+=3)o[e]=n[e]+Math.cos(z+r[e])*.01,o[e+1]=n[e+1]+Math.sin(z+r[e+1])*.001;i.geometry.attributes.position.needsUpdate=!0;const t=m.intersectObject(i);if(t.length>0){const{color:e}=t[0].object.geometry.attributes;e.setX(t[0].face.a,.1),e.setY(t[0].face.a,.5),e.setZ(t[0].face.a,1),e.setX(t[0].face.b,.1),e.setY(t[0].face.b,.5),e.setZ(t[0].face.b,1),e.setX(t[0].face.c,.1),e.setY(t[0].face.c,.5),e.setZ(t[0].face.c,1),t[0].object.geometry.attributes.color.needsUpdate=!0;const s={r:0,g:.19,b:.4},a={r:.1,g:.5,b:1};J.to(a,{r:s.r,g:s.g,b:s.b,duration:1,onUpdate:()=>{e.setX(t[0].face.a,a.r),e.setY(t[0].face.a,a.g),e.setZ(t[0].face.a,a.b),e.setX(t[0].face.b,a.r),e.setY(t[0].face.b,a.g),e.setZ(t[0].face.b,a.b),e.setX(t[0].face.c,a.r),e.setY(t[0].face.c,a.g),e.setZ(t[0].face.c,a.b),e.needsUpdate=!0}})}}let M;const se=new I(10,3,16,100),ae=new K({color:2985803,metalness:.7,normalMap:ne,roughness:.2});function P(o,n){return o+Math.random()*(n-o)}const Y=[];for(let o=0;o<300;o++)M=new A(se,ae),M.position.set(P(-c.plane.width/2,c.plane.width/2),P(-c.plane.width/2,c.plane.width/2),P(-90,300)),Y.push(M),d.add(M);X();addEventListener("mousemove",o=>{u.x=o.clientX/innerWidth*2-1,u.y=-(o.clientY/innerHeight)*2+1,re()});function re(){m.setFromCamera(u,f),m.intersectObjects(L,!0).length>0?document.body.style.cursor="pointer":document.body.style.cursor="default"}addEventListener("mouseup",o=>{u.x=o.clientX/innerWidth*2-1,u.y=-(o.clientY/innerHeight)*2+1,m.setFromCamera(u,f);const n=m.intersectObjects(L,!0);if(n.length>0&&n[0]){let r=n[0].object.parent.name;console.log(r),r.includes("polySurface")?x.load("https://astro-world.s3.amazonaws.com/sounds/dog_bark.mp3",function(t){p.setBuffer(t),p.setLoop(!1),p.setVolume(1),p.play()}):r.includes("mushroom")?x.load("https://astro-world.s3.amazonaws.com/sounds/fairy.mp3",function(t){h.setBuffer(t),h.setLoop(!1),h.setVolume(1),h.play()}):r.includes("Banana")&&x.load("https://astro-world.s3.amazonaws.com/sounds/banana.mp3",function(t){g.setBuffer(t),g.setLoop(!1),g.setVolume(1),g.play()})}});
